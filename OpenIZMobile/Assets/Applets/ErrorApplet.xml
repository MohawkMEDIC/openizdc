<?xml version="1.0" encoding="utf-8" ?>
<AppletManifest xmlns="http://openiz.org/applet">
  <info id="org.openiz.applet.core.error" version="0.5.0.0">
    <icon>app://openiz.org/drawable/app_alt</icon>
    <author>OpenIZ Community</author>
    <dependency id="org.openiz.core" version="0.5.0.0"/>
  </info>

  <!-- Error reports -->
  <asset name="logs" mimeType="text/html">
    <contentHtml>
      <title lang="en">Send Log Files</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <bundle>angular</bundle>
      <content>
        <body ng-controller="DebugController" xmlns="http://www.w3.org/1999/xhtml">
          <h1>
            <img src="app://openiz.org/drawable/logo" alt="logo"/> Send Log Files</h1>
          <hr/>
          <div class="container">
            <div class="row">
              <div class="col-xs-4">Log File</div>
              <div class="col-xs-8">
                <ul>
                  <li ng-repeat="f in logs">
                    <a ng-click="sendLog(f)">{{f}}</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12">
                <pre id="logContent" style="max-height:100%; overflow:scroll"></pre>
                
              </div>
            </div>
          </div>
          <script type="text/javascript">
            //<![CDATA[
            var debugApp = angular.module('logs', []);
            debugApp.config(['$compileProvider', function($compileProvider) {
              $compileProvider.aHrefSanitizationWhitelist(/^\s*(app|tel):/);
              }]);
              
            debugApp.controller('DebugController', ['$scope', function($scope){
              $scope.logs = OpenIZ.App.getLogFiles();
             $scope.sendLog = function(logId)
             {
              OpenIZ.App.sendLog(logId);
             }
            }]);
            //]]>
          </script>
        </body>
      </content>
    </contentHtml>
    
  </asset>
  
  <!-- English Error Pages -->
  <asset name="404" mimeType="text/html" lang="en">
    <contentHtml>
      <title lang="en">Page not found</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Not Found!</h1>
          <hr/>
          <p>The requested resource <script type="text/javascript">document.write(window.location);</script> was not found</p>
        </body>
      </content>
    </contentHtml>
  </asset>
  <asset name="500" mimeType="text/html" lang="en">
    <contentHtml>
      <title lang="en">Internal Server Error</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Internal Server Error</h1>
          <hr/>
          <p>There was an error rendering the page. Please check the mobile log files</p>
        </body>
      </content>
    </contentHtml>
  </asset>
  <asset name="403" lang="en" mimeType="text/html">
    <contentHtml>
      <title lang="en">Forbidden</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Internal Server Error</h1>
          <hr/>
          <p>You do not have sufficient permission to access the requested resource.</p>
        </body>
      </content>
    </contentHtml>
  </asset>

  <!-- French Error Pages -->
  <asset name="404" mimeType="text/html" lang="fr">
    <contentHtml>
      <title lang="fr">Non trouvee</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Non trouvee!</h1>
          <hr/>
          <p>
            La ressource demandee (<script type="text/javascript">document.write(window.location);</script>) n'a pas pu etra trouve</p>
        </body>
      </content>
    </contentHtml>
  </asset>
  <asset name="500" mimeType="text/html" lang="fr">
    <contentHtml>
      <title lang="fr">Erreur du Serveur</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Erreur du Serveur</h1>
          <hr/>
          <p>Il y avait une erreur rendu de la page. S'il voud plait verifier les fichiers journaux.</p>
        </body>
      </content>
    </contentHtml>
  </asset>
  <asset name="403" lang="fr" mimeType="text/html">
    <contentHtml>
      <title lang="fr">Interdit</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Interdit</h1>
          <hr/>
          <p>Vous ne possedez pas de privileges suffisants pour voir la page.</p>
        </body>
      </content>
    </contentHtml>
  </asset>

  <!-- Swahili Error Pages -->
  <asset name="404" mimeType="text/html" lang="sw">
    <contentHtml>
      <title lang="sw">Haipatikani</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Haipatikani</h1>
          <hr/>
          <p>
            Rasilimali aliomba hakuweza kupatikana. <script type="text/javascript">document.write(window.location);</script>
          </p>
        </body>
      </content>
    </contentHtml>
  </asset>
  <asset name="500" mimeType="text/html" lang="sw">
    <contentHtml>
      <title lang="sw">Kosa Server</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Kosa server</h1>
          <hr/>
          <p>Kulikuwa na hitilafu utoaji ukurasa ombi. Tafadhali wasiliana na magogo maombi ya simu.</p>
        </body>
      </content>
    </contentHtml>
  </asset>
  <asset name="403" lang="sw" mimeType="text/html">
    <contentHtml>
      <title lang="sw">Haramu</title>
      <bundle>jquery</bundle>
      <bundle>bootstrap</bundle>
      <content>
        <body xmlns="http://www.w3.org/1999/xhtml">
          <h1>Haramu</h1>
          <hr/>
          <p>You hawana marupurupu ya kutosha na kuona</p>
        </body>
      </content>
    </contentHtml>
  </asset>
</AppletManifest>