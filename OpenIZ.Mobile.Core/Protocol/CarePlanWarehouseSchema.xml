<?xml version="1.0" encoding="utf-8" ?>
<DatamartSchema xmlns="http://openiz.org/warehousing" name="oizcp" id="07BA63B4-50FA-41D5-9D24-7FB41606A961">
  <property name="creation_date" type="date" attributes="nonnull"/>
  <property name="patient_id" type="uuid" attributes="nonnull index"/>
  <property name="location_id" type="uuid" attributes="index"/>
  <property name="act_id" type="uuid" attributes="nonnull"/>
  <property name="class_id" type="uuid" attributes="nonnull"/>
  <property name="type_id" type="uuid" attributes="nonnull"/>
  <property name="protocol_id" type="uuid" attributes="nonnull"/>
  <property name="min_date" type="date" attributes="nonnull"/>
  <property name="max_date" type="date" attributes="none"/>
  <property name="act_date" type="date" attributes="index"/>
  <property name="product_id" type="uuid" attributes="index"/>
  <sqp name="bymonth" provider="sqlite">
    SELECT location_id, product_id, act_date, COUNT(act_id) AS acts FROM oizcp 
    GROUP BY location_id, product_id, act_date
  </sqp>
</DatamartSchema>