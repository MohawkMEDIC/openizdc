<!--
 - Copyright 2015-2017 Mohawk College of Applied Arts and Technology
 -
 - 
 - Licensed under the Apache License, Version 2.0 (the "License"); you 
 - may not use this file except in compliance with the License. You may 
 - obtain a copy of the License at 
 - 
 - http://www.apache.org/licenses/LICENSE-2.0 
 - 
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
 - License for the specific language governing permissions and limitations under 
 - the License.
 - 
 - User: fyfej
 - Date: 2017-1-16
 -->
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:oiz="http://openiz.org/applet" xmlns:bind="http://openiz.org/applet/binding" class="form-group">
    <div class="row">
        <div class="control-label col-xs-12">
            <label class="control-label">
                {{ 'locale.encounters.causeofdeath.title' | i18n }}
            </label><br />
        </div>
        <div class="col-xs-6">
            <label> {{ 'locale.patient.causeofdeath' | i18n }}</label>
            <select class="form-control" ng-model="act.targetModel.relationship.HasComponent.targetModel.value" required="required" 
                    bind:source="Concept" bind:filter="conceptSet.mnemonic=CauseOfDeath" bind:value="name[{{ locale }}].value">
                <option value="70fe34ce-caff-4f46-b6e6-9cd6d8f289d6" selected="selected">{{ 'locale.encounters.aefi.unknown' | i18n }}</option>
            </select>
        </div>
        <div class="col-xs-5">
            <label> {{ 'locale.patient.demographics.deceasedDate' | i18n }}</label>
            <input ng-required="true" name="deceasedDate" ng-init="act.targetModel.relationship.HasComponent.targetModel.actTime = $root.page.loadTime" type="date" ng-model="act.targetModel.relationship.HasComponent.targetModel.actTime" ng-min="patient.dateOfBirth" class="form-control" />
            
        </div>
        <div class="col-xs-12 help-block text-danger" ng-if="(editEncounterForm.deceasedDate.$touched||editEncounterForm.$submitted) &amp;&amp; editEncounterForm.deceasedDate.$error.min">
            {{ 'locale.encounters.immunizations.errors.invalidDeceaseDate' | i18n }}
        </div>
        <div class="col-xs-12 help-block text-danger" ng-if="(editEncounterForm.deceasedDate.$touched||editEncounterForm.$submitted) &amp;&amp; editEncounterForm.deceasedDate.$error.required">
            {{ 'locale.encounters.immunizations.errors.requiredDeceaseDate' | i18n }}
        </div>
        
    </div>
</div>