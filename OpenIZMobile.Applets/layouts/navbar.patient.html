<!--
 - Copyright 2015-2016 Mohawk College of Applied Arts and Technology
 -
 - 
 - Licensed under the Apache License, Version 2.0 (the "License"); you 
 - may not use this file except in compliance with the License. You may 
 - obtain a copy of the License at 
 - 
 - http://www.apache.org/licenses/LICENSE-2.0 
 - 
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
 - License for the specific language governing permissions and limitations under 
 - the License.
 - 
 - User: justi
 - Date: 2016-8-17
 -->
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:oiz="http://openiz.org/applet" >
    <div class="panel-group">
        <div class="panel panel-primary" ng-init="collapseStatus.queueOpen = true" ng-click="collapseStatus.patientInfoHeaderOpen = !collapseStatus.patientInfoHeaderOpen">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-target="#patientSummaryPanel">
                        <span ng-if="patient.name.OfficialRecord">{{ patient.name.OfficialRecord | oizEntityName }} </span>
                    <span ng-if="!patient.name.OfficialRecord">{{ 'locale.patient.unnamed' | i18n }}</span><small style="color:white">({{patient.genderConceptModel.name[$root.page.locale] }}) - {{ patient.dateOfBirth | date: 'yyyy-MMM-dd'}}</small>
                        <span class="pull-right" style="margin-right:20px">
                            {{ 'locale.patient.identifiers' | i18n }} {{ patient.identifier | oizEntityIdentifier }}
                        </span></a>
                    <i class="panel-chevron glyphicon" ng-class="{'glyphicon-chevron-down': collapseStatus.patientInfoHeaderOpen, 'glyphicon-chevron-right': !collapseStatus.patientInfoHeaderOpen}"></i>
                </h4>
            </div>
            <div class="panel-collapse collapse" id="patientSummaryPanel">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <label class="col-xs-2">{{ 'locale.patient.demographics.givenName' | i18n }}</label>
                            <div class="col-xs-4">
                                <span ng-model="patient.name.OfficialRecord.given" oiz-editor="tag">
                                    {{ patient.name.OfficialRecord.component.Given | oizEntityName }}
                                </span>
                            </div>
                            <label class="col-xs-2">{{ 'locale.patient.demographics.familyName' | i18n }}</label>
                            <div class="col-xs-4">
                                <span ng-model="patient.name.OfficialRecord.family" oiz-editor="tag">
                                    {{ patient.name.OfficialRecord.component.Family | oizEntityName }}
                                </span>
                            </div>
                        </div>
                        <div class="row">
                            <label class="col-xs-2">{{ 'locale.patient.demographics.dateOfBirth' | i18n }}</label>
                            <div class="col-xs-4">
                                <span ng-model="patient.dateOfBirth" oiz-editor="date">
                                    {{ patient.dateOfBirth | date : 'yyyy-MM-dd' }}
                                </span>
                            </div>
                            <label class="col-xs-2">{{ 'locale.patient.demographics.gender' | i18n }}</label>
                            <div class="col-xs-4">{{ patient.genderConceptModel.name[$root.page.locale] }}</div>
                        </div>
                        <div class="row">
                            <label class="col-xs-2">{{ 'locale.patient.demographics.domicile' | i18n }}</label>
                            <div class="col-xs-4"><span class="glyphicon glyphicon-map-marker"></span> {{ patient.address | oizEntityAddress }}</div>
                            <label class="col-xs-2">{{ 'locale.patient.demographics.facility' | i18n }}</label>
                            <div class="col-xs-4"><span class="glyphicon glyphicon-map-marker"></span> {{ patient.relationship.DedicatedServiceDeliveryLocation.targetModel.name.OfficialRecord | oizEntityName }}</div>
                        </div>
                    </div>
                    <div class="container-fluid" ng-if="patientEdit">
                        <div class="row">
                            <div class="pull-right btn-group">
                                <button type="button" ng-click="patientEdit.show()" class="btn btn-lg btn-info">
                                    <span>
                                        <span class="glyphicon glyphicon-pencil">
                                        </span>
                                        {{ 'locale.action.edit' | i18n }}
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            <!-- #include virtual="content" -->
    </div>
</div>